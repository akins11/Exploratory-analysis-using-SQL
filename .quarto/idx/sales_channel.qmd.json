{"title":"4. Method Of Product Sales","markdown":{"yaml":{"title":"4. Method Of Product Sales"},"headingText":"| include: false","containsRefs":false,"markdown":"\n\n<hr>\n\n\n```{r}\nsource(\"C:/Users/AYOMIDE/Documents/R/R_Projects/eda_SQL/function.R\")\n```\n\n```{r}\n#| message: false\n#| warning: false\n#| include: false\nlibrary(RMariaDB)\nlibrary(DBI)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(dplyr)\n```\n\n\n```{r}\n#| message: false\n#| warning: false\n#| include: false\nmysqldb <- RMariaDB::dbConnect(\n  RMariaDB::MariaDB(), user =  \"root\", \n  host = \"localhost\",\n  password = Sys.getenv(\"password\"), \n  dbname = \"sales\"\n  )\n```\n\n\n### Starting with the unique sales channels and the number of transactions done through them.\n```{sql}\n#| eval: false\nSELECT sales_channel, count(sales_channel) AS Count\n  FROM sales_order\n  GROUP BY sales_channel\n  ORDER BY Count DESC;\n```\n\n```{r}\n#| echo: false\nfetch_res(\n  \"\n  SELECT sales_channel, count(sales_channel) AS Count\n\t  FROM sales_order\n    GROUP BY sales_channel\n    ORDER BY Count DESC;\n  \"\n) |>\n  mutate(Count = as.integer(Count)) |>\n  cl_name() |>\n  gt() |>\n  fmt_number(columns = 2, decimals = 0) |>\n  tbl_opts()\n```\n\n \nMost sales can in through the physical store, followed by online platforms\nand distributors, while the wholesale channel brought in the lowest number of\ntransactions.\n\n\n### The total & average order quantity and sale from each sales channel.\n```{sql}\n#| eval: false\nWITH sc_qos AS (\n    SELECT sales_channel,\n           order_quantity, \n           (order_quantity * unit_price) AS sales\n      FROM sales_order\n)\nSELECT sales_channel,\n       round(AVG(order_quantity), 2) AS Average_Order,\n       SUM(order_quantity) AS Total_order,\n       round(AVG(sales), 2) AS Average_Sales,\n       round(SUM(sales), 2) AS Total_Sales\n  FROM sc_qos\n  GROUP BY sales_channel\n  ORDER BY Total_Sales DESC;\n```\n\n```{r}\n#| echo: false\nf <- fetch_res(\n  \"\n  WITH sc_qos AS (\n    \tSELECT sales_channel,\n    \t\t     order_quantity,\n    \t\t     (order_quantity * unit_price) AS sales\n    \t\tFROM sales_order\n)\nSELECT sales_channel,\n\t     round(AVG(order_quantity), 2) AS Average_Order,\n       SUM(order_quantity) AS Total_order,\n       round(AVG(sales), 2) AS Average_Sales,\n       round(SUM(sales), 2) AS Total_Sales\n\tFROM sc_qos\n  GROUP BY sales_channel\n  ORDER BY Total_Sales DESC;\n  \"\n)\n\nf |>\n  cl_name() |>\n  gt() |>\n  fmt_number(columns = c(2, 4)) |>\n  fmt_number(columns = c(3, 5), decimals = 0) |>\n  tbl_opts() |>\n  gt_highlight_cols(columns = c(2, 4), alpha = 0.08, fill = \"#F5F5F5\") |>\n  gt_highlight_cols(columns = c(3, 5), alpha = 0.3, fill = \"#F2F2F2\") |>\n  gt_highlight_rows(columns = 2, rows = 4, fill = \"#FAFAFA\") |>\n  gt_highlight_rows(columns = c(3, 5), rows = 1, fill = \"#F2F2F2\") |>\n  gt_highlight_rows(columns = 4, rows = 3, fill = \"#FAFAFA\")\n```\n\n\n<h3 class=\"insight-text\">Insight</h3>\n\n<p class=\"insight-summary\"> \nGiven the rank of the number of transactions from each sales channel, the same\ncan also be said for the total amount of order and sales, with the exception\nof the average sales of which the distributor channel had the highest while\nthe online channel had the lowest.\n</p>"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":false,"output-file":"sales_channel.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.149","editor":"source","theme":["yeti","custom.scss"],"fontcolor":"#18020C","linkcolor":"#0000CD","title":"4. Method Of Product Sales"},"extensions":{"book":{"multiFile":true}}}}}